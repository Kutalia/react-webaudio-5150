(this["webpackJsonpreact-webaudio-5150"]=this["webpackJsonpreact-webaudio-5150"]||[]).push([[0],{239:function(e,t,n){},241:function(e,t,n){},243:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){},472:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n.n(i),c=n(230),o=n.n(c),u=(n(239),n(27)),l=n(51),s=n(94),d=n.n(s),p=n(12),f=n(231),g=n(18),b=n(474),j=(n(241),n(36)),v=function(e){e.stopPropagation()},O=n(1),h=function(e){var t,n=e.id,r=e.sourceUrl,a=e.context,c=e.factory,o=e.compiler,u=e.onPluginReady,l=e.pluginNodes,s=Object(i.useState)(l?l[0]:null),d=Object(g.a)(s,2),p=d[0],f=d[1],b=Object(i.useRef)(!1);if(Object(i.useEffect)((function(){c&&a&&o&&!p&&!b.current&&fetch("/react-webaudio-5150/"+r).then((function(e){return e.text()})).then((function(e){b.current=!0,c.compileNode(a,"Pedal_"+n,o,e,"-ftz 2",!1,128).then((function(e){f(e),u([e],r,n)}))}))}),[r,a,c,o,u,n,p,b]),!p)return Object(O.jsx)("div",{children:"Start audio to load the plugin"});var h=p.fDescriptor.filter((function(e){var t=e.type;return"vslider"===t||"hslider"===t}));return Object(O.jsxs)("div",{className:"plugin pedal",children:[Object(O.jsx)("div",{className:"plugin-title",children:null===p||void 0===p||null===(t=p.fJSONDsp)||void 0===t?void 0:t.name}),Object(O.jsx)("div",{className:"knobs-wrapper",onMouseDown:v,children:h.map((function(e){var t=e.address,n=e.init,r=e.label,i=e.min,a=e.max;e.step;return Object(O.jsxs)("div",{className:"knob",children:[Object(O.jsx)("label",{htmlFor:t,children:r.toUpperCase()}),Object(O.jsxs)(j.Knob,{size:50,angleOffset:220,angleRange:280,min:i,max:a,value:n||.01,onChange:function(e){return function(e,t){p.setParamValue(e,t)}(t,e)},children:[Object(O.jsx)(j.Arc,{arcWidth:2.5,color:"#FC5A96",radius:18.75}),Object(O.jsx)(j.Pointer,{width:2.5,radius:20,type:"circle",color:"#180094"}),Object(O.jsx)(j.Value,{marginBottom:20,className:"value"})]})]},t)}))})]})},m=n(234);!function(e){e[e.source=0]="source",e[e.signature=1]="signature",e[e.version=2]="version",e[e.preamp_level=3]="preamp_level",e[e.preamp_bias=4]="preamp_bias",e[e.preamp_Kreg=5]="preamp_Kreg",e[e.preamp_Upor=6]="preamp_Upor",e[e.tonestack_low_freq=7]="tonestack_low_freq",e[e.tonestack_low_band=8]="tonestack_low_band",e[e.tonestack_middle_freq=9]="tonestack_middle_freq",e[e.tonestack_middle_band=10]="tonestack_middle_band",e[e.tonestack_high_freq=11]="tonestack_high_freq",e[e.tonestack_high_band=12]="tonestack_high_band",e[e.amp_level=13]="amp_level",e[e.amp_bias=14]="amp_bias",e[e.amp_Kreg=15]="amp_Kreg",e[e.amp_Upor=16]="amp_Upor",e[e.sag_time=17]="sag_time",e[e.sag_coeff=18]="sag_coeff",e[e.output_level=19]="output_level"}(r||(r={}));var x,k,C="kpp_tubeamp.dsp",y=["v1.0/American Clean","v1.0/American Vintage","v1.0/British Crunch","v1.0/Modern Metal","v1.2/Classic Hard","v1.2/JCM800 (spice)","v1.2/MarkII","v1.2/TwinReverb (spice)","supersonic_amp","supersonic_amp_2","toan_zoan"],P=y[0],_=function(e,t){return e?e.fDescriptor.filter((function(e){return e.type===t})):[]},N=function(e){var t,n=e.id,a=e.context,c=e.factory,o=e.compiler,u=e.onPluginReady,s=e.pluginNodes,d=e.pluginProfile,p=Object(i.useState)(s?s[1]:null),f=Object(g.a)(p,2),b=f[0],h=f[1],x=Object(i.useState)((null===d||void 0===d?void 0:d.source)||P),k=Object(g.a)(x,2),N=k[0],w=k[1],S=Object(i.useState)(d),D=Object(g.a)(S,2),M=D[0],F=D[1],I=Object(i.useRef)(!1);Object(i.useEffect)((function(){!b&&c&&a&&o&&!I.current&&(I.current=!0,fetch("/react-webaudio-5150/"+C).then((function(e){return e.text()})).then((function(e){c.compileNode(a,"kpp_tubeamp_"+n,o,e,"-ftz 2",!1,128).then((function(e){e&&h(e)}))})))}),[a,c,o,b,I,n]),Object(i.useEffect)((function(){if(a&&b&&(!s&&!M||N!==((null===M||void 0===M?void 0:M.source)||P))){var e=N;fetch("".concat("/react-webaudio-5150","/tubeAmp_Profiles/").concat(e,".tapf")).then((function(e){return e.arrayBuffer()})).then((function(t){var i=0,c=t.slice(0,76);i=76;for(var o=new Uint8Array(c.slice(0,4)),s="TaPf",d=0;d<s.length;d++)if(s.charCodeAt(d)!==o[d])return;var p,f=new Uint32Array(c.slice(4,8))[0];(p=new Float32Array(c).reduce((function(e,t,n){return Object.assign(e,Object(l.a)({},r[n+1],t))}),{})).source=e,p.signature=s,p.version=f,F(p);var g=t.slice(i,i+12);i+=12;var j=new Int32Array(g),v=j[0],O=4*j[2],h=t.slice(i,i+O);if(i+=O,h.byteLength===O){for(var x=new ConvolverNode(a),k=new Float32Array(h),y=new Float32Array(Object(m.a)(k,v,a.sampleRate)),P=a.createBuffer(1,y.length,a.sampleRate),_=P.getChannelData(0),N=0;N<P.length;N++)_[N]=y[N];x.buffer=P,u([x,b],C,n,p)}}))}}),[a,b,M,u,n,s,N]),Object(i.useEffect)((function(){var e=_(b,"nentry");M&&e.forEach((function(e){null===b||void 0===b||b.setParamValue(e.address,M[e.label])}))}),[b,M]);if(!b)return Object(O.jsx)("div",{children:"Start audio to load the plugin"});var A=_(b,"vslider");return Object(O.jsxs)("div",{className:"plugin amp-head",children:[Object(O.jsx)("div",{className:"plugin-title",children:null===b||void 0===b||null===(t=b.fJSONDsp)||void 0===t?void 0:t.name}),Object(O.jsx)("label",{htmlFor:"profile",children:"Choose Profile"}),Object(O.jsx)("select",{id:"profile",onChange:function(e){return function(e){w(e.target.value)}(e)},value:N,children:y.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))}),Object(O.jsx)("div",{className:"knobs-wrapper",onMouseDown:v,children:A.map((function(e){var t=e.address,n=e.init,r=e.label,i=e.min,a=e.max;e.step;return Object(O.jsxs)("div",{className:"knob",children:[Object(O.jsx)("label",{htmlFor:t,children:r}),Object(O.jsxs)(j.Knob,{size:50,angleOffset:220,angleRange:280,min:i,max:a,className:"styledKnob",value:n||.01,onChange:function(e){return function(e,t){b.setParamValue(e,t)}(t,e)},children:[Object(O.jsx)(j.Arc,{arcWidth:.75}),Object(O.jsx)("circle",{r:"20",cx:"25",cy:"25"}),Object(O.jsx)(j.Pointer,{width:1,height:17.5,radius:5,type:"rect",color:"#fff"})]})]},t)}))})]})},w=(n(243),["center","cone","edge"]),S=["1on-preshigh","1on-pres8","1on-pres5"],D=function(e,t,n){var r=new ConvolverNode(e);null===e||void 0===e||e.decodeAudioData(t,(function(e){r.buffer=e,n&&n(r)}))},M=function(e){var t=e.audioContext,n=e.onCabReady,r=Object(i.useState)(0),a=Object(g.a)(r,2),c=a[0],o=a[1];return Object(i.useEffect)((function(){t&&fetch("".concat("/react-webaudio-5150","/ir/").concat(S[c],".wav")).then((function(e){return e.arrayBuffer()})).then((function(e){return D(t,e,n)}))}),[c,t,n]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"cabinet",onClick:function(){o((function(e){return e===w.length-1?0:e+1}))},children:[Object(O.jsx)("img",{className:"speaker",alt:"Guitar Speaker",src:"".concat("/react-webaudio-5150","/speaker.png")}),Object(O.jsx)("img",{className:"mic mic--".concat(w[c]),alt:"Microphone",src:"".concat("/react-webaudio-5150","/shure_sm57.png")})]}),Object(O.jsxs)("div",{className:"ir-input",children:[Object(O.jsx)("label",{htmlFor:"ir",children:"Choose your IR"}),Object(O.jsx)("input",{type:"file",id:"ir",accept:"audio/*",onChange:function(e){var r;t&&(null===(r=e.target.files)||void 0===r?void 0:r.length)&&e.target.files[0].arrayBuffer().then((function(e){return D(t,e,n)}))}})]})]})},F=n(14),I=n.n(F),A=n(6),R=n(232),T=n.n(R),E=(n(470),n(17)),L=n(23),H=n(40),K=n(39),U=n(233),z=n(16).default.div(x||(x=Object(U.a)(["\n    .plugin-port {\n        width: 16px;\n        height: 16px;\n        z-index: 10;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 8px;\n        cursor: pointer;\n        &:hover {\n            background: rgba(0, 0, 0, 1);\n        }\n        position: absolute;\n        top: 50%;\n\n        &.port-in {\n            left: 0%;\n        }\n        &.port-out {\n            right: 0%;\n        }\n    }\n"]))),B=function(e){Object(H.a)(n,e);var t=Object(K.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){var e=this.props.node.getPort("In"),t=this.props.node.getPort("Out");return Object(O.jsxs)(z,{children:[this.props.node.plugin,e&&Object(O.jsx)(F.PortWidget,{className:"plugin-port port-in",port:e,engine:this.props.engine}),t&&Object(O.jsx)(F.PortWidget,{className:"plugin-port port-out",port:t,engine:this.props.engine})]})}}]),n}(a.a.Component),W=n(92),q=function(e){Object(H.a)(n,e);var t=Object(K.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"createLinkModel",value:function(){return new W.PathFindingLinkModel}}]),n}(n(31).DefaultPortModel),J=function(e){Object(H.a)(n,e);var t=Object(K.a)(n);function n(e,r){var i;return Object(E.a)(this,n),(i=t.call(this,{type:"plugin"})).plugin=e,i.pluginIndex=r,i.addPort(new q(!0,"In","")),i.addPort(new q(!1,"Out","")),i}return n}(F.NodeModel),V=function(e){Object(H.a)(n,e);var t=Object(K.a)(n);function n(){return Object(E.a)(this,n),t.call(this,"plugin")}return Object(L.a)(n,[{key:"generateReactWidget",value:function(e){return Object(O.jsx)(B,{engine:this.engine,node:e.model})}},{key:"generateModel",value:function(e){return new J(Object(O.jsx)(O.Fragment,{}),0)}}]),n}(A.AbstractReactFactory),G=function(e,t){var n=e.getLinks();Object.keys(n).length>(t?1:0)&&Object.entries(n).forEach((function(e){var n=e[1];n!==t&&n.remove()}))},Z=function(e){var t=e.plugins,n=e.setPluginsOrder,r=e.pluginsOrder,a=e.addPlugin,c=Object(i.useState)(),o=Object(g.a)(c,2),l=o[0],s=o[1],d=Object(i.useRef)([]),p=Object(i.useRef)([]);return Object(i.useEffect)((function(){var e=I()({registerDefaultZoomCanvasAction:!1});e.getNodeFactories().registerFactory(new V),s(e)}),[]),Object(i.useEffect)((function(){var e=!T()(p.current,r),i=r&&p.current&&p.current.length<r.length;if(l&&(i||d.current!==t&&(e||!r))){var a,c=l.getModel(),o=[],s=r?r.length:t.length,f=r?r[r.length-1]:s-1;if(c&&c.getNodes().length-2<s){var g;a=new J(r?t[f]:t[t.length-1],f);var b=c.getNodes().filter((function(e){return e instanceof F.DefaultNodeModel&&"Output"===e.getOptions().name}))[0],j=b.getPort("In"),v=Object.keys(j.getLinks()).length&&Object.entries(j.getLinks())[0][1];v&&G(j);var O=v&&(v.getTargetPort().getNode()===b?v.getSourcePort():v.getTargetPort());o=[a.getPort("Out").link(j)],v&&o.push(O.link(a.getPort("In"))),(g=c).addAll.apply(g,[a].concat(Object(u.a)(o)))}else if(!r){var h,m=[],x=l.getLinkFactories().getFactory(F.PathFindingLinkFactory.NAME);t.forEach((function(e,t){a=new J(e,t),m.push(a),t>0&&o.push(m[t-1].getPort("Out").link(m[t].getPort("In"),x))})),(m=[new F.DefaultNodeModel({name:"Input"})].concat(Object(u.a)(m))).push(new F.DefaultNodeModel({name:"Output"}));var k={eventWillFire:function(e){"entityRemoved"===e.function&&e.stopPropagation()}};m[0].registerListener(k),m[m.length-1].registerListener(k),m.length>2&&(o=[m[0].addPort(new F.DefaultPortModel({name:"Out"})).link(m[1].getPort("In"),x)].concat(Object(u.a)(o))).push(m[m.length-2].getPort("Out").link(m[m.length-1].addPort(new F.DefaultPortModel({name:"In"})),x)),(h=c=new F.DiagramModel).addAll.apply(h,Object(u.a)(m).concat(Object(u.a)(o))),l.setModel(c);var C={eventDidFire:function(e){if("linksUpdated"===e.function){var t=e.link,r=t.getSourcePort();G(r,t),e.isCreated&&t.registerListener({targetPortChanged:function(e){e.port.getParent()===r.getParent()?t.remove():G(e.port,t);var i=function(e,t){for(var n,r,i=[],a=e.getNode(t),c=e.getNodes(),o=0;o<c.length-1;o++){var u;if(!(n=null===(u=a.getPort("Out"))||void 0===u?void 0:u.getLinks())||!Object.keys(n).length)return null;(a=(r=Object.entries(n)[0][1]).getSourcePort().getNode()===a?r.getTargetPort().getNode():r.getSourcePort().getNode())instanceof J&&i.push(a.pluginIndex)}return i}(c,m[0].getID());i&&n(i)}})}}};c.registerListener(C);var y=l.getStateMachine().getCurrentState();y&&(y.dragCanvas.config.allowDrag=!1)}setTimeout((function(){new F.DagreEngine({graph:{rankdir:"LR",ranker:"longest-path",marginx:550,marginy:550,ranksep:25},includeLinks:!0}).redistribute(c),l.getLinkFactories().getFactory(F.PathFindingLinkFactory.NAME).calculateRoutingMatrix(),l.repaintCanvas()}),1e3),d.current=t}e&&(p.current=r)}),[t,l,r,n,d]),l&&l.getModel()?Object(O.jsx)("div",{onDrop:function(e){var t=e.dataTransfer.getData("plugin");a(t)},className:"canvas-wrapper",onDragOver:function(e){return e.preventDefault()},children:Object(O.jsx)(A.CanvasWidget,{className:"canvas",engine:l})}):null},Q=function(e){var t=e.plugins;return Object(O.jsx)("div",{children:t.map((function(e,t){return Object(O.jsx)("div",{draggable:!0,onDragStart:function(t){return t.dataTransfer.setData("plugin",e)},children:e},t)}))})},X=(n(471),function(){return Object(O.jsxs)("div",{className:"details",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{href:"https://github.com/olegkapitonov/Kapitonov-Plugins-Pack",children:"(Kapitonov Plugins Pack)"})," by Oleg Kapitonov"]}),Object(O.jsxs)("div",{children:["Contact me at my ",Object(O.jsx)("a",{href:"mailto:kotekutalia@gmail.com",children:"email address"})]}),Object(O.jsxs)("div",{children:["Official ",Object(O.jsx)("a",{href:"https://github.com/Kutalia/react-webaudio-5150",children:"GitHub repository"})]})]})}),Y=function(e){var t=e.onChange,n=Object(i.useState)([]),r=Object(g.a)(n,2),a=r[0],c=r[1];if(Object(i.useEffect)((function(){navigator.mediaDevices.enumerateDevices().then((function(e){return c(Object.entries(e).filter((function(e){return"audioinput"===e[1].kind})).map((function(e){return{id:e[1].deviceId,label:e[1].label}})))}))}),[]),!a.length)return null;return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Choose your input device"}),Object(O.jsx)("select",{onChange:function(e){t(e.target.value)},children:a.map((function(e){var t=e.id,n=e.label;return Object(O.jsx)("option",{value:t,children:n},t)}))})]})};function $(e){Object.entries(e).map((function(e){return e[1].nodes})).forEach((function(e){e&&e.forEach((function(e){return null===e||void 0===e?void 0:e.disconnect()}))}))}!function(e){e[e.DI=0]="DI",e[e.MIC=1]="MIC"}(k||(k={}));var ee=["kpp_distruction.dsp","kpp_octaver.dsp","kpp_tubeamp.dsp","kpp_fuzz.dsp","kpp_bluedream.dsp"],te={audioContext:null,lineInStreamSource:null,diTrackStreamSource:null,inputMode:null,inputDeviceID:"default",cabConvolver:null,pluginsHistory:["kpp_tubeamp.dsp"],plugins:{},pluginsOrder:null,allPluginsTailNode:null,faustCompiler:null,faustFactory:null,faustCode:""};var ne=function(){var e=Object(i.useState)(te),t=Object(g.a)(e,2),n=t[0],r=t[1],a=n.audioContext,c=n.lineInStreamSource,o=n.diTrackStreamSource,s=Object(i.useRef)(new Audio);function j(e){return"suspended"===e.state||"running"!==e.state?e.resume():Promise.resolve()}var v,m=Object(i.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var i,a,c,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.audioContext||new AudioContext({latencyHint:"interactive"}),a=null!==t&&void 0!==t?t:n.inputDeviceID,e.next=4,navigator.mediaDevices.getUserMedia({audio:{deviceId:a,echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1,latency:0}});case 4:return c=e.sent,e.next=7,j(i);case 7:u=i.createMediaStreamSource(c),r((function(e){return e.lineInStreamSource&&e.lineInStreamSource.disconnect(),Object(p.a)(Object(p.a)({},e),{},{audioContext:i,lineInStreamSource:u,diTrackStreamSource:o,inputDeviceID:a,inputMode:k.MIC})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n.audioContext,o,n.inputDeviceID]);switch(Object(i.useEffect)((function(){FaustModule().then((function(e){var t=Faust.createCompiler(Faust.createLibFaust(e)),n=Faust.createMonoFactory();r((function(e){return Object(p.a)(Object(p.a)({},e),{},{faustFactory:n,faustCompiler:t})}))}))}),[]),n.inputMode){case k.DI:v=o;break;case k.MIC:v=c;break;default:v=o||c}var x=Object(i.useCallback)((function(e,t,n,i){r((function(r){var a,c=Object.entries(r.plugins),o=c.find((function(e){return e[0]===n}));if(o)a=o[1].order;else{var u,s=((null===(u=c.filter((function(e){return e[1].source===t})))||void 0===u?void 0:u.map((function(e){return e[1].order})).sort((function(e,t){return t-e})))||[void 0])[0];a=-1===(a=r.pluginsHistory.indexOf(t,"number"===typeof s?s+1:void 0))?r.pluginsHistory.length:a}return Object(p.a)(Object(p.a)({},r),{},{pluginsOrder:r.pluginsOrder||[0],plugins:Object(p.a)(Object(p.a)({},r.plugins),{},Object(l.a)({},n,{order:a,nodes:e,source:t,profile:i}))})}))}),[]),C=Object(i.useCallback)((function(e){r((function(t){var n;return t.cabConvolver&&t.audioContext&&(null===(n=t.allPluginsTailNode)||void 0===n?void 0:n.node)&&(t.allPluginsTailNode.node.disconnect(t.cabConvolver),t.cabConvolver.disconnect(t.audioContext.destination)),Object(p.a)(Object(p.a)({},t),{},{cabConvolver:e})}))}),[]),y=Object(i.useCallback)((function(e){m(e)}),[m]),P=Object(i.useCallback)((function(e,t,r,i){return"kpp_tubeamp.dsp"===e?Object(O.jsx)(N,{id:t,compiler:n.faustCompiler,factory:n.faustFactory,context:n.audioContext,onPluginReady:x,pluginNodes:r,pluginProfile:i}):Object(O.jsx)(h,{id:t,sourceUrl:e,compiler:n.faustCompiler,factory:n.faustFactory,context:n.audioContext,onPluginReady:x,pluginNodes:r})}),[n.faustFactory,n.faustCompiler,n.audioContext,x]),_=Object(i.useRef)([]),w=Object(i.useMemo)((function(){return n.pluginsHistory.map((function(e,t){var r;_.current[t]?r=_.current[t]:(r=Object(b.a)(),_.current[t]=r);var i=Object.entries(n.plugins).filter((function(e){return e[0]===r}))[0],a=i?i[1].nodes:void 0,c=i?i[1].profile:void 0;return P(e,r,a,c)}))}),[P,n.pluginsHistory,n.plugins,_]);Object(i.useEffect)((function(){n.cabConvolver&&n.allPluginsTailNode&&Object.keys(n.allPluginsTailNode).length&&n.audioContext&&(n.cabConvolver.disconnect(),n.allPluginsTailNode.node.connect(n.cabConvolver).connect(n.audioContext.destination))}),[n.cabConvolver,n.allPluginsTailNode,n.audioContext]),Object(i.useEffect)((function(){v&&a&&Object.keys(n.plugins).length===w.length&&Object.entries(n.plugins).filter((function(e){return!!e[1]})).length===w.length&&($(n.plugins),j(a).then((function(){var e=Object.entries(n.plugins),t=n.pluginsOrder?n.pluginsOrder.map((function(t){return e.filter((function(e){return e[1].order===t}))[0][1].nodes})):e.map((function(e){return e[1].nodes}));if(!!!t.filter((function(e){return!e})).length){var i=Object(u.a)(t).reverse().reduce((function(e,t,n){var r=t.reduce((function(e,t,n){return 0!==n?e.connect(t):t}),{});return 0===n?r:r.connect(e)}),{}),a=t[0][0];v.connect(a),r((function(e){return Object(p.a)(Object(p.a)({},e),{},{allPluginsTailNode:{node:i}})}))}})))}),[n.plugins,w.length,n.pluginsOrder,v,a]);var S=Object(i.useCallback)((function(e){r((function(t){return Object(p.a)(Object(p.a)({},t),{},{pluginsOrder:e})}))}),[]),D=Object(i.useCallback)((function(e){r((function(t){$(t.plugins);var n=Object.entries(t.plugins),r=!t.pluginsOrder||t.pluginsHistory.filter((function(n,r){var i;return n===e&&(null===(i=t.pluginsOrder)||void 0===i?void 0:i.includes(r))})).length===n.filter((function(t){return t[1].source===e})).length,i=t.pluginsOrder?[].concat(Object(u.a)(t.pluginsOrder),[r?n.length:n.find((function(n){var r;return n[1].source===e&&!(null===(r=t.pluginsOrder)||void 0===r?void 0:r.includes(n[1].order))}))[1].order]):[].concat(Object(u.a)(n.map((function(e,t){return t}))),[n.length]);return Object(p.a)(Object(p.a)({},t),{},{pluginsHistory:r?[].concat(Object(u.a)(t.pluginsHistory),[e]):t.pluginsHistory,pluginsOrder:i})}))}),[]);return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"non-canvas",children:[Object(O.jsx)("div",{className:"details-wrapper",children:Object(O.jsx)(X,{})}),Object(O.jsx)("div",{className:"device-select-wrapper",children:Object(O.jsx)(Y,{onChange:y})}),Object(O.jsxs)("div",{children:["Click ",Object(O.jsx)("button",{disabled:!!c,onClick:function(){return m()},children:"here"})," to turn on your guitar input."]}),Object(O.jsx)(M,{audioContext:n.audioContext,onCabReady:C}),Object(O.jsx)("div",{children:Object(O.jsx)("audio",{controls:!0,ref:s,onPlay:function(){if(!o){var e=n.audioContext||new AudioContext({latencyHint:"interactive",sampleRate:44100}),t=s.current;j(e).then((function(){var n=e.createMediaElementSource(t);r((function(t){return Object(p.a)(Object(p.a)({},t),{},{audioContext:e,lineInStreamSource:c,diTrackStreamSource:n,inputMode:k.DI})}))}))}},children:Object(O.jsx)("source",{src:"".concat("/react-webaudio-5150","/di/LasseMagoDI.mp3"),type:"audio/mpeg"})})}),!!Object.entries(n.plugins).length&&Object(O.jsx)(Q,{plugins:ee})]}),Object(O.jsx)("div",{className:"plugins-diagram",children:Object(O.jsx)(Z,{plugins:w,pluginsOrder:n.pluginsOrder,setPluginsOrder:S,addPlugin:D})})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,475)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};o.a.render(Object(O.jsx)(ne,{}),document.getElementById("root")),re()}},[[472,1,2]]]);
//# sourceMappingURL=main.cb228765.chunk.js.map